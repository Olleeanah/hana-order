<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å³æ™‚ç‹€æ…‹ç®¡ç†</title>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>

  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 min-h-screen p-6">
  <div class="max-w-xl mx-auto bg-white p-6 rounded-2xl shadow-md">
    <h1 class="text-2xl font-bold mb-4">ğŸ¡ èŠ±ç”°èˆå³æ™‚ç‹€æ…‹ç®¡ç†</h1>

    <div class="flex items-center justify-between mb-6">
      <span class="text-lg font-medium">ç‡Ÿæ¥­ç‹€æ…‹ï¼š</span>
      <span id="openStatus" class="text-green-600 font-semibold">è¼‰å…¥ä¸­...</span>
    </div>

    <h2 class="text-xl font-semibold mb-2">ğŸ“¦ é¤é»è²©å”®ç‹€æ…‹</h2>
    <ul id="productList" class="space-y-2 text-lg">
      <!-- é¤é»ç‹€æ…‹æœƒè‡ªå‹•æ’å…¥ -->
    </ul>

    <!-- ğŸ”™ è¿”å›ä¸»é æŒ‰éˆ• -->
        <div class="mt-8 text-center">
        <a href="index.html" class="inline-block bg-blue-500 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-600 transition">
            ğŸ”™ è¿”å›ä¸»é 
        </a>
        </div>

  </div>

  <script>
    // âœ… Firebase è¨­å®š
    const firebaseConfig = {
      apiKey: "AIzaSyBmKN4doiFaXPzzu7tmgLQ9xSXGQNvLaSo",
      authDomain: "hana-order.firebaseapp.com",
      databaseURL: "https://hana-order-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "hana-order",
      storageBucket: "hana-order.appspot.com",
      messagingSenderId: "40196534715",
      appId: "1:40196534715:web:97792006a77aebadd6549e"
    };

    // âœ… åˆå§‹åŒ– Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // âœ… é¤é»åç¨±é™£åˆ—ï¼ˆå¿…é ˆèˆ‡ Firebase è³‡æ–™åº« key å®Œå…¨ä¸€è‡´ï¼‰
    const productNames = [
      "å¤æ—©å‘³é›è›‹ç³•(åŸå‘³)",
      "æ—¥å¼ç´…è±†æ´¾",
      "æ—¥å¼ç´…è±†éº»ç³¬",
      "æ³•å¼å¥¶å‡",
      "æ¿ƒå‘³å¡å£«é”",
      "ç¶“å…¸èœå¡Š",
      "èµ·å¸å¥¶å‡",
      "èµ·å¸èœå¡Š",
      "é›™èµ·å¸å¥¶å‡",
      "é›™èµ·å¸èœå¡Š",
      "é»‘ç³–éº»ç³¬"
    ];

    // âœ… æ›´æ–°ç‡Ÿæ¥­ç‹€æ…‹
    const openStatusEl = document.getElementById("openStatus");
    firebase.database().ref("status/open").on("value", (snapshot) => {
      const open = snapshot.val();
      openStatusEl.textContent = open ? "ç‡Ÿæ¥­ä¸­" : "ä¼‘æ¯ä¸­";
      openStatusEl.className = open ? "text-green-600 font-semibold" : "text-red-600 font-semibold";
    });

    // âœ… æ›´æ–°æ¯å€‹é¤é»è²©å”®ç‹€æ…‹
    const productList = document.getElementById("productList");

    productNames.forEach(name => {
      const li = document.createElement("li");
      li.textContent = `${name}ï¼šè¼‰å…¥ä¸­...`;
      li.id = `product-${name}`;
      productList.appendChild(li);

      firebase.database().ref(`soldout/${name}`).on("value", (snapshot) => {
        const soldout = snapshot.val();
        li.textContent = `${name}ï¼š${soldout ? "âŒ å”®å®Œ" : "âœ… è²©å”®ä¸­"}`;
        li.className = soldout ? "text-red-500" : "text-green-700";
      });
    });
  </script>
</body>
</html>
